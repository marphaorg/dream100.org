---
layout: default
lang: en
title: College - Admin
permalink: /admin/college/
---

<!--? Hero Start -->
<div class="slider-area2">
  <div class="slider-height2 d-flex align-items-center">
    <div class="container">
      <div class="row">
        <div class="col-xl-12">
          <div class="hero-cap hero-cap2 pt-20 text-center">
            <h2>Admin Panel</h2>
            <a class="btn-link" href="/admin/">Go to Admin Page</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Hero End -->
<!--? Start Button -->
<section class="button-area">
  <div class="container box_1170 border-top-generic">
    <a class="btn hero-btn mb-10" href="/admin/college/new">Add New College</a>
    <h3 class="text-heading mt-5">List of Colleges</h3>

    <div class="list-group" id="mylist">
      <label>Loading...</label>
      <!-- {% for college in items %}
      <a
        href="/admin/college/edit?abcd"
        class="list-group-item list-group-item-action flex-column align-items-start mb-4"
      >
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{ college.address_en }}</h5>
          <small>Updated: 3 days ago</small>
        </div>
        <p class="mb-1">{{ college.name_en }}</p>
        <small>Donec id elit non mi porta.</small>
      </a>
      {% endfor %} -->
    </div>
  </div>
</section>
<!-- End Button -->

<!-- Firebase references -->
{% include firebase.html %}

<script>
  readColleges();
  function readColleges() {
    var dbTask = dbCollegeManager.getColleges();
    dbTask
      .then((querySnapshot) => {
        var content = "";
        querySnapshot.forEach((doc) => {
          // doc.data() is never undefined for query doc snapshots
          console.log(doc.id, " => ", doc.data());
          var college = doc.data();
          content +=
            '<a href="/admin/college/edit?id=' +
            doc.id +
            '" class="list-group-item list-group-item-action flex-column align-items-start mb-4"> ' +
            '<div class="d-flex w-100 justify-content-between">' +
            '<h5 class="mb-1">' +
            college.address_en +
            "</h5> " +
            "<small>Updated: 3 days ago</small> " +
            "</div> " +
            '<p class="mb-1">' +
            college.name_en +
            "</p> " +
            "<small>Donec id elit non mi porta.</small> " +
            "</a>";
        });
        $("#mylist").html(content);
      })
      .catch((error) => {
        console.log("Error getting documents: ", error);
      });
  }

  function createNewCollegeItem(collegeObj, collegeStats) {
    var dbTask = dbCollegeManager.addCollege(collegeObj);
    dbTask
      .then((docRef) => {
        console.log("Document written with ID: ", docRef.id);
        return docRef.id;
      })
      .catch((error) => {
        console.error("Error writing document: ", error);
      });
  }

  function updateCollegeItem(id, collegeObj) {
    var dbTask = dbCollegeManager.updateCollege(id, collegeObj);
    dbTask
      .then(() => {
        console.log("Document successfully updated!");
      })
      .catch((error) => {
        // The document probably doesn't exist.
        console.error("Error updating document: ", error);
      });
  }
</script>
